<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="OrderDAO">

<!-- order_list -->
	<select id="getorderList" resultType="order">
		select * FROM order_list
		where ID = #{id}
	</select>
	
<!-- 구독 하지 않은 상태 -->
	<insert id="oredrtable">
	INSERT INTO order_list
(ORD_CODE,ID,ORD_DATE,ORD_STAT,PAY_STAT,CS_STAT,PROD_PRICE,PROD_P_PRICE,DELI_PRICE,ORD_T_PRICE,ORD_ADDR,ORD_PHONE,ORD_MEMO)
VALUES(#{ord_code},#{id},#{ord_date},#{ord_stat},#{pay_stat},'이상없음',${prod_price},#{prod_p_price},2500,#{ord_t_price},#{ord_addr},#{ord_phone],#{ord_memo});
</insert>

<!-- m_add -->
	<select id="getm_add" resultType="order">
		select * FROM m_add
		where ID = #{id}
	</select>
	
	<insert id="oredr_m_add">
		INSERT INTO M_ADD (ID,
		M_NAME_1,
		M_ADDRESS_1,
		M_PHONE_1,
		M_ADDRESS_2,
		M_ADDRESS_3)
		VALUES ((SELECT id FROM member WHERE id = #{id}),#{m_name_1},#{m_address_1},#{m_phone_1},#{m_address_2},#{m_address_3})
	</insert>

</mapper>
